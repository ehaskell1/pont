<html>
    <head>
        <meta content="text/html;charset=utf-8" http-equiv="Content-Type"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Phutball</title>
        <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.13.0/css/all.min.css" rel="stylesheet">
        <link href="https://fonts.googleapis.com/css2?family=Inconsolata&family=Lato&display=swap" rel="stylesheet">
        <link href="style.css" rel="stylesheet">
    </head>
    <body>
    <script src="howler.core.js"></script>
    <script type="module">
        import init from './pont_client.js';
        async function run() {
            await init();
        }
        run();
    </script>

    <div id="disconnected" hidden="" class="information">
        <p><i class="fas fa-exclamation-triangle"></i>
            <span id="disconnected_msg">Could not connect to game server</span>
        </p>
        <p>Please refresh the page to try again</p>
    </div>

    <!-- UI while joining the game -->
    <div id="join">
        <form id="join_form">
            <p><b>Name:</b><input id="name_input" placeholder="John Smith" required=""></p>
            <p><b>Room:</b><input id="room_input" pattern="^[a-z]+ [a-z]+ [a-z]+$"></p>
            <p><button id="play_button" type="submit" class="disabled">Loading...</button></p>
        </form>
        <div id="err_div" hidden="">
            <i class="fas fa-exclamation-triangle"></i>
            <span id="err_span"></span>
        </div>
    </div>

    <!-- Main game UI -->
    <div id="playing" hidden="">
        <p><b>Room: </b><span id="room_name"></span></p>
        <div id="game">
            <div id="svg_div" class="nyt">
                <svg id="dummy" viewBox="0 0 150 233"></svg>
                <button id="accept_button" class="gameplay" disabled="">
                    <i class="fas fa-check"></i>
                </button>
                <button id="undo_button" class="gameplay" disabled="">
                    <i class="fas fa-undo"></i>
                </button>
                <svg id="game_svg" width="100" height="100" viewBox="0 0 150 233">
                    <defs>
                        <clipPath id="clip_rect">
                            <rect width="150" height="210" x="0" y="0"></rect>
                        </clipPath>
                    </defs>
                    <rect id="board_rect" width="150" height="210" x="0" y="0"></rect>
                    <g id="grid_lines"></g>
                    <g clip-path="url(#clip_rect)">
                        <g id="pieces_group"></g>
                    </g>
                </svg>
            </div>
            <div>
                <table id="score_table">
                    <tbody id="score_rows">
                        <tr><th colspan="2">Player</th><th>Score</th></tr>
                    </tbody>
                </table>
            </div>
            <div id="chat_div">
                <div id="chat_msgs"></div>
                <div id="chat_input_div">
                    <p><b id="chat_name"></b></p>
                    <input id="chat_input" placeholder="Send Message...">
                </div>
            </div>
        </div>
    </div>

    <div id="footer">
        <p>© 2020 <a href="https://mattkeeter.com">Matthew Keeter</a></p>
        <p>© 2020 Evan Haskell</p>
        <p>Revision <span id="revhash"></span></p>
        <p>
            <a href="rules.html" target="_blank"><i class="fas fa-book"></i></a>
            <a href="rules.html" class="padded" target="_blank">Rules</i></a>
            <a href="https://mattkeeter.com/projects/pont"><i class="fas fa-home"></i></a>
            <a href="https://mattkeeter.com/projects/pont" class="padded">About</a>
            <a href="https://github.com/ehaskell1/pont/tree/phutball"><i class="fab fa-github"></i></a>
            <a href="https://github.com/ehaskell1/pont/tree/phutball">Source</a>
        </p>
    </div>
  </body>
</html>
